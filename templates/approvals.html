{% extends "base.html" %} {% block title %}Approvals - Admin{% endblock %} {%
block extra_css %}
<style>
  .approvals-container {
    padding: 40px 24px;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    min-height: 100vh;
  }
  .page-header {
    background: white;
    padding: 32px;
    border-radius: 20px;
    margin-bottom: 32px;
    box-shadow: var(--shadow-md);
  }
  .page-header h1 {
    font-family: "Montserrat", sans-serif;
    font-size: 36px;
    font-weight: 900;
    background: var(--gradient-2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 0;
  }
  .intern-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 24px;
  }
  .intern-card {
    background: white;
    border-radius: 20px;
    padding: 32px;
    box-shadow: var(--shadow-md);
    transition: all 0.4s ease;
    animation: fadeInUp 0.6s ease-out;
    animation-fill-mode: both;
  }
  .intern-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
  }
  .intern-header {
    display: flex;
    gap: 20px;
    margin-bottom: 24px;
  }
  .intern-photo {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid var(--primary);
    box-shadow: var(--shadow-sm);
  }
  .intern-info h3 {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--dark);
  }
  .intern-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 50px;
    font-size: 12px;
    font-weight: 600;
    background: var(--gradient-1);
    color: white;
  }
  .intern-details {
    margin-bottom: 24px;
  }
  .detail-row {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    border-bottom: 1px solid var(--border);
  }
  .detail-label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 14px;
  }
  .detail-value {
    color: var(--dark);
    font-weight: 500;
  }
  .action-buttons {
    display: flex;
    gap: 12px;
  }
  .btn-approve {
    background: var(--gradient-4);
  }
  .btn-reject {
    background: var(--gradient-2);
  }
</style>
{% endblock %} {% block content %}
<div class="approvals-container">
  <div class="container" style="max-width: 1400px">
    <div class="page-header">
      <h1><i class="fas fa-user-check"></i> Pending Approvals</h1>
      <p style="color: var(--text-light); margin: 8px 0 0 0">
        {{ pending_interns|length }} interns waiting for approval
      </p>
    </div>
    {% if pending_interns %}
    <div class="intern-grid">
      {% for intern in pending_interns %}
      <div
        class="intern-card"
        style="animation-delay: {{ loop.index0 * 0.1 }}s;"
      >
        <div class="intern-header">
          {% if intern.photo_url %}
          <img
            src="{{ intern.photo_url }}"
            alt="{{ intern.full_name }}"
            class="intern-photo"
          />
          {% else %}
          <div
            class="intern-photo"
            style="
              background: var(--gradient-1);
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-size: 32px;
              font-weight: 900;
            "
          >
            {{ intern.full_name[0] }}
          </div>
          {% endif %}
          <div class="intern-info">
            <h3>{{ intern.full_name }}</h3>
            <span class="intern-badge">{{ intern.intern_id }}</span>
          </div>
        </div>
        <div class="intern-details">
          <div class="detail-row">
            <span class="detail-label">USN</span
            ><span class="detail-value">{{ intern.usn }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Email</span
            ><span class="detail-value">{{ intern.email }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Phone</span
            ><span class="detail-value">{{ intern.phone }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Role</span
            ><span class="detail-value">{{ intern.role }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Applied</span
            ><span class="detail-value"
              >{{ intern.created_at.strftime('%b %d, %Y') }}</span
            >
          </div>
        </div>
        <div class="action-buttons">
          <form
            method="POST"
            action="{{ url_for('approve_intern', user_id=intern.id) }}"
            style="flex: 1"
          >
            <button type="submit" class="btn btn-approve" style="width: 100%">
              <i class="fas fa-check"></i> Approve
            </button>
          </form>
          <form
            method="POST"
            action="{{ url_for('reject_intern', user_id=intern.id) }}"
            style="flex: 1"
          >
            <button type="submit" class="btn btn-reject" style="width: 100%">
              <i class="fas fa-times"></i> Reject
            </button>
          </form>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="card" style="text-align: center; padding: 60px">
      <i
        class="fas fa-check-circle"
        style="font-size: 80px; color: var(--success); margin-bottom: 24px"
      ></i>
      <h2 style="color: var(--dark); margin-bottom: 12px">All Clear!</h2>
      <p style="color: var(--text-light)">
        No pending approvals at the moment.
      </p>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
