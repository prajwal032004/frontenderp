{% extends "intern/base.html" %} {% block page_title %}My Submissions{% endblock
%} {% block extra_head %}
<style>
  .sub-card {
    padding: 1.5rem;
    border-radius: 12px;
    margin-bottom: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: 0.2s;
  }
  .sub-card:hover {
    transform: translateX(5px);
    background: rgba(255, 255, 255, 0.05);
  }

  .status-badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
  }
  .status-APPROVED {
    background: rgba(16, 185, 129, 0.2);
    color: var(--success);
  }
  .status-PENDING {
    background: rgba(245, 158, 11, 0.2);
    color: var(--warning);
  }
  .status-REJECTED {
    background: rgba(239, 68, 68, 0.2);
    color: var(--danger);
  }

  .feedback-box {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    border-left: 3px solid var(--primary);
  }
</style>
{% endblock %} {% block content %}
<div class="glass-panel" style="padding: 2rem; border-radius: 16px">
  {% if submissions %} {% for sub in submissions %}
  <div
    style="
      border-bottom: 1px solid var(--glass-border);
      padding-bottom: 1.5rem;
      margin-bottom: 1.5rem;
    "
  >
    <div
      style="display: flex; justify-content: space-between; align-items: start"
    >
      <div style="display: flex; gap: 1rem">
        <div
          style="
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
          "
        >
          <i
            class="fas fa-file-alt"
            style="font-size: 1.5rem; color: var(--primary)"
          ></i>
        </div>
        <div>
          <h3 style="font-size: 1.1rem; margin-bottom: 0.3rem">
            {{ sub.task_title or 'General Submission' }}
          </h3>
          <p style="font-size: 0.85rem; color: var(--text-muted)">
            Submitted on {{ sub.submitted_at }}
          </p>
          {% if sub.file_url %}
          <a
            href="{{ url_for('uploaded_file', filename='submissions/' + sub.file_url) }}"
            target="_blank"
            style="
              font-size: 0.8rem;
              color: var(--primary);
              display: block;
              margin-top: 0.5rem;
            "
            ><i class="fas fa-download"></i> Download File</a
          >
          {% endif %}
        </div>
      </div>
      <span class="status-badge status-{{ sub.status }}">{{ sub.status }}</span>
    </div>

    {% if sub.feedback %}
    <div class="feedback-box">
      <strong style="color: var(--text-main); font-size: 0.9rem"
        >Reviewer Feedback:</strong
      >
      <p
        style="color: var(--text-muted); font-size: 0.9rem; margin-top: 0.3rem"
      >
        {{ sub.feedback }}
      </p>
      {% if sub.grade %}
      <div style="margin-top: 5px; font-weight: bold; color: var(--success)">
        Grade: {{ sub.grade }}
      </div>
      {% endif %}
    </div>
    {% endif %}
  </div>
  {% endfor %} {% else %}
  <div style="text-align: center; padding: 3rem; color: var(--text-muted)">
    No submissions history found.
  </div>
  {% endif %}
</div>
{% endblock %}
